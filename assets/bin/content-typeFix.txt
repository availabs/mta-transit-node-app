var requestSettings = {
        method   : 'GET',
        url      : feedUrl,
        encoding : null,

        har : {
            method   : 'GET',
            url      : feedUrl,
            headers  : [ { name  : 'accept', value : 'application/x-protobuf' } ],
        }
    };

request(requestSettings, function (err, response, body) {
    if (err) {
        console.log(err);
        return; 
    }

    try {
        // create a protobuf decoder
        var transit       = Protobufjs.protoFromFile(protofilePath).build('transit_realtime'),
            gtfsrtMessage = transit.FeedMessage.decode(body);

        console.log(gtfsrtMessage);
    } catch (e) {
        console.log(e.stack);
    }
});
